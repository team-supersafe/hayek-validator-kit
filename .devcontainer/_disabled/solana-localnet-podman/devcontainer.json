{
	"name": "Localnet (podman)",
	"dockerComposeFile": [
		"../../solana-localnet/docker-compose.yml",
		"../../solana-localnet/docker-compose.podman.yml"
	],
	"service": "ansible-control-localnet",
	"runServices": [
		"gossip-entrypoint",
		"host-alpha",
		"host-bravo",
		"host-charlie",
		"ansible-control-localnet"
	],
	// Force VS Code to use the in-container ssh-agent socket instead of forwarding the host agent.
	"remoteEnv": {
		"SSH_AUTH_SOCK": "/tmp/ssh-agent.sock"
	},
	"postStartCommand": "./solana-localnet/container-setup/scripts/initialize-localnet-and-demo-validators.sh",
	"shutdownAction": "stopCompose",
	// somehow it works in keeping the terminal open after postStartCommand but meh...
	// It might be fixed soon, see https://github.com/microsoft/vscode-remote-release/issues/4537
	// "postAttachCommand": "bash",
	// The /workspace is where the root project dir is mounted in the volumes section of
	// devtools service in docker-compose.yml
	"workspaceFolder": "/hayek-validator-kit",
	"customizations": {
		// Configure properties specific to VS Code.
		"vscode": {
			// Add the IDs of extensions you want installed when the container is created.
			"extensions": [
				"ms-azuretools.vscode-docker"
			],
			"settings": {
				// Force VS Code / devcontainer CLI to talk to Podman instead of Docker.
				"dev.containers.dockerPath": "podman",
				"dev.containers.dockerComposePath": "podman-compose"
			}
		}
	}
}
