---
# Verify that all required variables and inputs are present before proceeding
- name: Precheck role imputs
  import_tasks: precheck.yml

# Create system users, assign groups, and configure SSH access
- name: Create users
  import_tasks: create_users.yml

# Configure password hardening policies
- name: Configure password hardening
  import_tasks: password_hardening.yml

# Configure RBAC sudoers files
- name: Configure RBAC sudoers
  import_tasks: configure_sudoers.yml

# Configure password self-service for sysadmin users
- name: Setup password self-service
  import_tasks: setup_pss.yml

# Create user permission files
- name: Create user permission files
  import_tasks: create_user_permissions_files.yml

# Configure ISO 27001 compliant audit logging
- name: Setup audit logging
  import_tasks: setup_audit_logs.yml

# Disable ubuntu user and block SSH access
- name: Disable ubuntu user
  import_tasks: disable_ubuntu.yml
