---
argument_specs:
  main:
    short_description: "Install Agave Solana validator"
    author: "Hayek Validator Team"
    description:
      - "Installs and configures an Agave Solana validator"
      - "Automatically installs dependencies (solana_cli_agave, solana_validator_shared)"
      - "Configures validator keys and startup scripts"
    options:
      validator_name:
        type: str
        required: true
        description: "Name of the validator instance"
      validator_type:
        type: str
        required: true
        choices: ["primary", "hot-spare"]
        description: "Type of validator (primary or hot-spare)"
      agave_version:
        type: str
        required: true
        description: "Version of Agave to install (semantic versioning, e.g. 2.3.6)"
      solana_cluster:
        type: str
        required: true
        choices: ["localnet", "testnet", "mainnet"]
        description: "Target Solana cluster"
      force_host_cleanup:
        type: bool
        required: false
        default: false
        description: "Force cleanup of existing validator data"
      build_from_source:
        type: bool
        required: false
        default: false
        description: "Build from source instead of using precompiled binaries"
      use_official_repo:
        type: bool
        required: false
        default: false
        description: "Use official repository instead of forked repository when building from source"
      xdp_enabled:
        type: bool
        required: false
        default: true
        description: "Enable XDP support for validator networking when host/client capabilities allow it"
      xdp_mode:
        type: str
        required: false
        default: "native"
        description: "Requested XDP mode when supported by agave-validator flags"
      xdp_numa_check_enabled:
        type: bool
        required: false
        default: true
        description: "Run shared NUMA placement assessment between XDP retransmit cores and PoH pinned core"
